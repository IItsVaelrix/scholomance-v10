.page-theme--read{--leather-dark: #121722;--leather-mid: #1a2334;--leather-light: #232f45;--leather-highlight: #2f3d55;--parchment-light: #e6edf7;--parchment-mid: #111827;--parchment-dark: #0b0f1c;--parchment-shadow: #060912;--ink-black: #e6edf7;--ink-sepia: #c4cfde;--ink-faded: #9aa9c3;--ink-stain: rgba(120, 150, 190, .15);--gold-bright: #7de3ff;--gold-dark: #2a7da7;--serif: "Cormorant Garamond", "Times New Roman", serif}.readPage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:120px 20px 40px;position:relative;--rhyme-glow: var(--school-accent-glow);--rhyme-soft: var(--school-accent-soft);--gold-bright: var(--school-accent);--gold-dark: var(--school-accent)}.read-layout{display:flex;width:100%;max-width:1800px;height:calc(100vh - 160px);gap:20px}.read-sidebar{width:320px;flex-shrink:0;height:100%;overflow-y:auto}.read-stage{flex:1;display:flex;align-items:center;justify-content:center}.scroll-editor{width:100%;height:100%;min-height:0;display:flex;flex-direction:column}.scroll-list{background:#0a0e168c;border:1px solid rgba(125,170,220,.2);border-radius:16px;height:100%;display:flex;flex-direction:column}.scroll-list-header{padding:18px 20px;border-bottom:1px solid rgba(125,170,220,.2);display:flex;justify-content:space-between;align-items:center}.scroll-list-title{font-family:var(--sans);font-size:16px;font-weight:600;color:var(--parchment-light);display:flex;align-items:center;gap:10px}.scroll-count{font-size:12px;padding:2px 6px;background:#080c14cc;border-radius:6px}.new-scroll-btn{background:none;border:1px dashed rgba(125,170,220,.4);color:var(--parchment-light);padding:6px 12px;border-radius:8px;cursor:pointer;font-family:var(--sans);font-size:12px;font-weight:500;display:flex;align-items:center;gap:6px;transition:all .15s ease}.new-scroll-btn:hover{background:#7daadc1a;border-style:solid}.scroll-list-body{flex:1;overflow-y:auto;padding:10px;display:flex;flex-direction:column;gap:8px}.scroll-item{display:flex;border-radius:8px;border:1px solid transparent;transition:all .15s ease}.scroll-item:hover{background:#7daadc14}.scroll-item--active{border-color:var(--school-accent);background:var(--school-accent-soft)}.scroll-item-main{flex:1;padding:12px 14px;background:none;border:none;text-align:left;cursor:pointer;color:var(--parchment-light)}.scroll-item-title{font-family:var(--sans);font-weight:600;font-size:14px}.scroll-item-preview{font-family:var(--serif);font-size:13px;color:var(--ink-faded);margin-top:6px;line-height:1.5}.scroll-item-meta{display:flex;gap:12px;font-size:11px;color:var(--ink-faded);margin-top:10px;opacity:.7}.scroll-delete-btn{background:none;border:none;color:var(--ink-faded);padding:0 14px;cursor:pointer;opacity:.5;transition:opacity .15s ease}.scroll-item:hover .scroll-delete-btn{opacity:1}.scroll-delete-btn:hover{color:#ff8a8a}.scroll-empty{text-align:center;padding:40px 20px;color:var(--ink-faded)}.empty-sigil{font-size:32px;opacity:.5}.scroll-empty p{font-family:var(--sans);font-weight:600;margin-top:12px}.scroll-empty span{font-size:12px;opacity:.7}.aside--grimoire{background:linear-gradient(90deg,var(--leather-dark) 0%,var(--leather-mid) 100%);border-left:4px solid var(--gold-dark)}.annotation-panel{--annotation-accent: var(--gold-bright)}.annotation-panel .accent-text{color:var(--annotation-accent)}.aside-texture{position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");opacity:.05;mix-blend-mode:overlay;pointer-events:none}.grimoire-close{background:#d4a84b1a;border-color:var(--gold-dark);color:var(--gold-bright)}.grimoire-close:hover{background:#d4a84b33}.annotation-content{position:relative}.grimoire-stat{border-bottom-color:#d4a84b26}.grimoire-stat .statLabel{display:flex;align-items:center;gap:8px;color:var(--gold-dark)}.stat-sigil{font-size:12px}.phoneme-list{display:flex;flex-wrap:wrap;gap:6px}.phoneme-chip{display:inline-block;padding:4px 8px;background:#d4a84b1a;border:1px solid rgba(212,168,75,.2);border-radius:4px;font-size:13px}.definition-list{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--ink-sepia)}.definition-item{line-height:1.5}.rhyme-key{font-style:italic;color:var(--gold-bright)}.aside-footer{margin-top:24px}.aside-note{font-size:11px;color:var(--ink-faded);text-align:center;font-style:italic;margin:12px 0 0}@keyframes saiyan-fire-main{0%{box-shadow:0 0 10px -2px var(--annotation-accent),inset 0 0 5px -1px var(--annotation-accent)}22%{box-shadow:0 0 14px -2px var(--annotation-accent),inset 0 0 8px -1px var(--annotation-accent)}47%{box-shadow:0 0 12px -2px var(--annotation-accent),inset 0 0 6px -1px var(--annotation-accent)}78%{box-shadow:0 0 15px -2px var(--annotation-accent),inset 0 0 9px -1px var(--annotation-accent)}to{box-shadow:0 0 10px -2px var(--annotation-accent),inset 0 0 5px -1px var(--annotation-accent)}}@keyframes saiyan-fire-before{0%{box-shadow:0 0 15px 5px var(--annotation-accent),0 0 6px 2px #78dcff73;opacity:.3}25%{box-shadow:0 0 25px 10px var(--annotation-accent),0 0 12px 5px #78dcff8c;opacity:.5}50%{box-shadow:0 0 12px 8px var(--annotation-accent),0 0 4px 3px #78dcff59;opacity:.2}75%{box-shadow:0 0 30px 12px var(--annotation-accent),0 0 14px 6px #78dcff99;opacity:.6}to{box-shadow:0 0 15px 5px var(--annotation-accent),0 0 6px 2px #78dcff73;opacity:.3}}@keyframes saiyan-fire-after{0%{box-shadow:0 0 8px 2px var(--annotation-accent),0 0 3px 1px #78dcff66;opacity:.5}33%{box-shadow:0 0 12px 4px var(--annotation-accent),0 0 5px 2px #78dcff80;opacity:.8}66%{box-shadow:0 0 7px 3px var(--annotation-accent),0 0 2px 1px #78dcff59;opacity:.4}to{box-shadow:0 0 8px 2px var(--annotation-accent),0 0 3px 1px #78dcff66;opacity:.5}}.readPage .annotation-panel{position:fixed;width:min(380px,90vw);inset:auto auto 20px 20px!important;border-left:4px solid var(--annotation-accent-active);border-right:none;cursor:grab;touch-action:none;height:auto;max-height:min(500px,calc(100vh - 180px));overflow-y:auto;z-index:var(--z-overlay);box-shadow:0 8px 32px #0009;animation:saiyan-fire-main 1.3s ease-in-out infinite}.readPage .annotation-panel:before,.readPage .annotation-panel:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;pointer-events:none}.readPage .annotation-panel:before{animation:saiyan-fire-before 1.8s ease-in-out infinite;z-index:-1}.readPage .annotation-panel:after{animation:saiyan-fire-after 2.1s ease-in-out infinite;z-index:-2}.readPage .annotation-panel:active{cursor:grabbing}.scroll-editor{position:relative;background-color:var(--leather-mid);border-radius:16px;border:1px solid rgba(125,170,220,.25);overflow:hidden;box-shadow:0 22px 60px #070c1699;display:flex;flex-direction:column}.scroll-editor>*{position:relative;z-index:1}.editor-header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:18px 20px;background:#0a0e168c;border-bottom:1px solid rgba(125,170,220,.2)}.editor-title-input{flex:1;padding:10px 14px;font-family:var(--sans);font-size:16px;font-weight:500;letter-spacing:.01em;color:var(--parchment-light);background:#080c148c;border:1px solid rgba(125,170,220,.3);border-radius:8px;outline:none;transition:border-color .15s ease,box-shadow .15s ease}.editor-title-input::placeholder{color:#e6edf773}.editor-title-input:focus{border-color:#7dd2ff8c;box-shadow:0 0 0 3px #7dd2ff2e}.editor-stats{display:flex;gap:8px}.stat-badge{padding:6px 10px;font-family:var(--sans);font-size:11px;font-weight:500;letter-spacing:.02em;color:var(--parchment-light);background:#080c148c;border:1px solid rgba(125,170,220,.2);border-radius:6px}.stat-badge--alert{color:#ffd6a0;background:#8b101038;border:1px solid rgba(255,138,0,.2)}.editor-validation-error{margin:12px 20px 0;padding:10px 12px;border-radius:10px;font-size:12px;font-family:var(--sans);letter-spacing:.01em;color:#ffdfc2;background:#370c1880;border:1px solid rgba(255,120,140,.35);display:inline-flex;align-items:center;gap:8px}.editor-validation-error .error-sigil{font-size:14px}.editor-warning{margin-left:10px;color:#ffd6a0d9}.editor-body{display:flex;flex:1;min-height:350px;position:relative;overflow:hidden;background-color:var(--parchment-dark);border:1px solid rgba(15,23,36,.75);transition:border-color .6s ease}.readPage.rhyme-idle .editor-body{border-color:#7dc8ffb3}.editor-margin{width:36px;padding:20px 8px;display:flex;flex-direction:column;gap:40px;border-right:1px solid rgba(15,23,36,.2);background:#0c101a0f}.margin-glyph{font-size:14px;color:var(--ink-faded);opacity:.2;text-align:center}.editor-content{--editor-line-height: 1.75;flex:1;padding:24px 28px;font-family:var(--serif);font-size:19px;font-weight:500;line-height:var(--editor-line-height);letter-spacing:.01em;color:var(--ink-black);background-color:transparent;background-image:linear-gradient(transparent calc(calc(var(--editor-line-height) * 1em) - 1px),#7dc8ff1f calc(calc(var(--editor-line-height) * 1em) - 1px)),linear-gradient(90deg,rgba(125,200,255,.08),transparent 28%);background-size:100% calc(var(--editor-line-height) * 1em),100% 100%;background-repeat:repeat,no-repeat;background-attachment:local;background-origin:content-box;border:none;caret-color:var(--school-accent);outline:none;min-height:300px;overflow-y:auto;white-space:pre-wrap;word-break:break-word;cursor:text;transition:color .15s ease,text-shadow .2s ease}.editor-margin,.editor-content{position:relative;z-index:1}.editor-content:empty:before{content:attr(data-placeholder);color:#e6edf759;font-style:italic;letter-spacing:.02em;white-space:pre-wrap}.editor-content::selection{background:var(--school-accent-soft);color:var(--ink-black)}.editor-line{min-height:calc(var(--editor-line-height) * 1em)}.editor-word{color:var(--annotation-accent, var(--ink-black));transition:text-shadow .2s ease,box-shadow .2s ease}.editor-word.has-feel{text-decoration:underline;text-decoration-color:var(--feel-border, transparent);text-decoration-thickness:1px;text-underline-offset:2px;text-shadow:0 0 10px var(--feel-glow, transparent)}.scroll-editor.is-empty .editor-body{background:var(--parchment-dark);animation:none}.scroll-editor.is-empty .editor-content{color:var(--ink-faded);text-shadow:0 0 10px rgba(120,200,255,.18)}.editor-footer{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:#0a0e1666;border-top:1px solid rgba(125,170,220,.2)}.editor-hint{font-family:var(--sans);font-size:12px;color:#e6edf7b3;letter-spacing:.01em;display:flex;align-items:center;gap:4px}.editor-hint kbd{display:inline-block;padding:2px 6px;font-family:var(--mono);font-size:11px;background:#080c1499;border:1px solid rgba(125,170,220,.25);border-radius:4px;color:var(--parchment-light)}.editor-actions{display:flex;gap:10px}.editor-btn{display:inline-flex;align-items:center;gap:8px;padding:12px 18px;font-family:var(--sans);font-size:12px;font-weight:600;letter-spacing:.04em;border-radius:8px;cursor:pointer;transition:all .15s ease}.editor-btn--secondary{background:#080c1466;border:1px solid rgba(125,170,220,.3);color:var(--parchment-light)}.editor-btn--secondary:hover:not(:disabled){background:#0a101aa6;border-color:#7dd2ff73}.editor-btn--primary{background:linear-gradient(180deg,#58c8ff40,#4678c859);border:1px solid rgba(125,210,255,.6);color:#eaf7ff}.editor-btn--primary:hover:not(:disabled){background:linear-gradient(180deg,#60d2ff59,#4682d773);transform:translateY(-1px);box-shadow:0 8px 18px #5096e659}.editor-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-sigil{font-size:14px}.btn-sigil.spinning{animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media(max-width:768px){.editor-header{flex-direction:column;align-items:stretch}.editor-stats{justify-content:flex-end}.editor-margin{display:none}.editor-footer{flex-direction:column;gap:12px}.editor-actions{width:100%}.editor-btn{flex:1;justify-content:center}}
